### æœ€é•¿å…¬å…±å­åºåˆ—

ä¸¤ä¸ªå­—ç¬¦ä¸²s1="ABCBDAB" , s2="BDCABA"ï¼Œæ±‚å‡ºæœ€é•¿å…¬å…±å­åºåˆ—

åˆ©ç”¨åŠ¨æ€è§„åˆ’çš„è§£æ³•ï¼Œæ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ï¼šæœ€ä¼˜å­ç»“æ„å’Œå­é—®é¢˜é‡å 

å®šä¹‰dpæ•°ç»„ï¼š`dp[i][j]`è¡¨ç¤ºä»¥str1[i]ã€str2[j]ç»“å°¾çš„å­åºåˆ—çš„é•¿åº¦

åˆå§‹å€¼ï¼š`dp[0][0]`ä¸º0

çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š

```java
// str1[i] == str2[j]
dp[i][j] = dp[i-1][j-1] + 1;
// str1[i] != str2[j]
dp[i][j] = Math.max(dp[i-1][j], dp[i][j-1])
```

>æ‰©å±•é—®é¢˜ï¼š
>
>å¦‚ä½•æ±‚å‡ºä¸¤ä¸ªå­—ç¬¦ä¸²çš„æœ€é•¿å…¬å…±å­ä¸²ï¼ˆå­ä¸²ä¸€å®šæ˜¯è¿ç»­çš„ï¼‰
>
>https://blog.csdn.net/qq_25800311/article/details/81607168

### æœ€é•¿é€’å¢å­åºåˆ—

ç»™å®šä¸€ä¸ªæ— åºçš„æ•°ç»„nums=[10,9,2,5,3,7,101,18]ï¼Œæ‰¾åˆ°æœ€é•¿ä¸Šå‡å­åºåˆ—çš„é•¿åº¦ã€‚æ¯”å¦‚è¯¥æ— åºæ•°ç»„æœ€é•¿ä¸Šå‡å­åºåˆ—çš„é•¿åº¦ä¸º4ï¼Œå³[2,3,7,101]ã€‚

> æ³¨æ„ã€Œå­åºåˆ—ã€å’Œã€Œå­ä¸²ã€è¿™ä¸¤ä¸ªåè¯çš„åŒºåˆ«ï¼Œå­ä¸²ä¸€å®šæ˜¯è¿ç»­çš„ï¼Œè€Œå­åºåˆ—ä¸ä¸€å®šæ˜¯è¿ç»­çš„

1ã€å®šä¹‰dpæ•°ç»„ï¼Œdp[0..n]ï¼Œ

> `dp[i]` è¡¨ç¤ºä»¥ `nums[i]` è¿™ä¸ªæ•°ç»“å°¾çš„æœ€é•¿é€’å¢å­åºåˆ—çš„é•¿åº¦ï¼Œ
>
> dp[3]çš„å€¼ï¼Œä»¥nums[3]=5ç»“å°¾çš„æœ€é•¿é€’å¢å­åºåˆ—ä¸º[2,5],å³é•¿åº¦ä¸º3

2ã€dpæ•°ç»„é•¿åº¦å’Œåˆå§‹å€¼

- é•¿åº¦ï¼šç»™å®šæ— åºæ•°ç»„çš„é•¿åº¦
- åˆå§‹å€¼ï¼š1ï¼Œå³æœ€å¤§é•¿åº¦åŒ…å«è‡ªèº«ï¼ˆè¯¥å€¼å…¶å®æ˜¯æœ€å°å€¼ï¼Œä»¥ä¾¿çŠ¶æ€è½¬ç§»æ—¶å–æœ€å¤§å€¼ï¼‰

3ã€çŠ¶æ€è½¬ç§»æ–¹ç¨‹

**dp[i] = Math.max(dp[i], dp[j] + 1);**

æ‰¾åˆ°å‰é¢é‚£äº›ç»“å°¾æ¯” `nums[i]` å°çš„å­åºåˆ—ï¼Œç„¶åæŠŠ `nums[i]` æ¥åˆ°æœ€åï¼Œå°±å¯ä»¥å½¢æˆä¸€ä¸ªæ–°çš„é€’å¢å­åºåˆ—ï¼Œè€Œä¸”è¿™ä¸ªæ–°çš„å­åºåˆ—é•¿åº¦åŠ ä¸€

```java
for (int j = 0; j < i; j++) {// éå†å‰é¢çš„å…ƒç´ 
    if (nums[i] > nums[j]) // è¦æ¯”å½“å‰çš„å…ƒç´ å°
        dp[i] = Math.max(dp[i], dp[j] + 1);// çœ‹çœ‹å“ªä¸ªé•¿åº¦æœ€å¤§
}
```

4ã€å®Œæ•´ä»£ç 

```java
public int lengthOfLIS(int[] nums) {
    int[] dp = new int[nums.length];
    // base caseï¼šdp æ•°ç»„å…¨éƒ½åˆå§‹åŒ–ä¸º 1ï¼Œæœ€å¤§é•¿åº¦åŒ…å«è‡ªèº«ä¸º1
    Arrays.fill(dp, 1);
    for (int i = 0; i < nums.length; i++) {
        for (int j = 0; j < i; j++) {
            if (nums[i] > nums[j]) 
                dp[i] = Math.max(dp[i], dp[j] + 1);
        }
    }

    // éå†dpæ•°ç»„ï¼Œè·å–æœ€å¤§é•¿åº¦
    int res = 0;
    for (int i = 0; i < dp.length; i++) {
        res = Math.max(res, dp[i]);
    }
    return res;
}
```

> å˜ç§é—®é¢˜ï¼Œå ä¿¡å°é—®é¢˜ï¼šæŒ‰å®½åº¦å‡åº(å¦‚æœå®½åº¦ç›¸åŒï¼Œé«˜åº¦è¦é™åº)æ’åˆ—å¥½å®½é«˜æ•°ç»„ï¼Œç„¶åæŒ‰ç…§é«˜åº¦å¯»æ‰¾æœ€é•¿é€’å¢å­åºåˆ—
>
> ```java
> // numsæ•°ç»„å­˜æ”¾ä¿¡å°çš„å®½é«˜
> int[][] nums = new int[W][H];
> // è°ƒç”¨Javaç³»ç»Ÿæ–¹æ³•è¿›è¡Œæ’åº,ä¼ å…¥æ¯”è¾ƒå™¨
> Arrays.sort(nums, new Comparator<int[]>() {
>   @Override
>   public int compare(int[] a, int[] b) {
>     return a[0] == b[0] ? b[1] - a[1] : a[0] - b[0];
>   }
> });
> ```
>

æ±‚æœ€é•¿é€’å¢å­æ•°ç»„ï¼Œå­æ•°ç»„æ˜¯è¿ç»­çš„ï¼Œç›´æ¥é¡ºåºéå†ä¸€éå°±å¯ä»¥ï¼Œä¸éœ€è¦ä¸¤å±‚å¾ªç¯ï¼Œå†ä»å¤´æ¯”è¾ƒ

åˆå§‹å€¼ï¼š`dp[i]=1`ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š

```java
if(nums[i] > nums[i-1]) {
  dp[i] = dp[i-1] + 1;
}
```

### æœ€é•¿å›æ–‡å­åºåˆ—

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²`str=babad`ï¼Œæ‰¾åˆ°æœ€é•¿çš„å›æ–‡å­åºåˆ—ã€‚

1ã€æœ‰ä¸¤ä¸ªçŠ¶æ€éœ€è¦å…³æ³¨ï¼Œå› æ­¤è¦å®šä¹‰ä¸€ä¸ªäºŒç»´dpæ•°ç»„`dp[i][j]`ï¼Œè¡¨ç¤ºï¼š`str[i..j]`æœ€å¤§é•¿åº¦çš„å›æ–‡å­åºåˆ—ï¼Œæœ€ç»ˆç»“æœè¦æ±‚çš„æ˜¯`dp[0][len-1]`

2ã€åˆå§‹å€¼ï¼Œèƒ½æƒ³åˆ°çš„åˆå§‹å€¼å°±æ˜¯`dp[i][j] = 1,å…¶ä¸­i==j`ï¼Œè¡¨ç¤ºåªæœ‰ä¸€ä¸ªå­—ç¬¦ï¼Œé‚£ä¹ˆå›æ–‡å­åºåˆ—çš„é•¿åº¦ä¸º1ã€‚ï¼ˆå¾ˆæ˜¾ç„¶ğŸ˜ï¼‰

å¹¶ä¸”`i>j`çš„ä½ç½®éƒ½åº”è¯¥æ˜¯éæ³•ä½ç½®ï¼ˆæ•°ç»„å¤´éƒ¨ä¸èƒ½è¶…å‡ºå°¾éƒ¨ï¼‰ï¼Œéå†çš„æ—¶å€™è¦ä¿è¯ï¼š`j>=i`

3ã€çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š

```java
// str[i] == str[j]ï¼Œ å³å‰åä¸¤ä¸ªå­—ç¬¦ç›¸ç­‰ï¼Œä¸Šä¸€ä¸ªçŠ¶æ€ç›´æ¥åŠ 2
dp[i][j] = dp[i+1][j-1] + 2;
// str[i] != str[j], å³å‰åä¸¤ä¸ªå­—ç¬¦ä¸ç›¸ç­‰
dp[i][j] = Math.max(
  dp[i+1][j], // æ–°åŠ å…¥çš„å­—ç¬¦æ”¾åˆ°jçš„ä½ç½®, i+1æ˜¯ä¸Šä¸€ä¸ªçŠ¶æ€
  dp[i][j-1] // æ–°åŠ å…¥çš„å­—ç¬¦æ”¾åˆ°içš„ä½ç½®ï¼Œj-1è¿˜æ˜¯ä¸Šä¸€ä¸ªçŠ¶æ€
)
```

4ã€å®Œæ•´ä»£ç 

```java
public int getLength(String str) {
  char[] ch = str.toCharArray();
  int len = ch.length;
  int[][] dp = new int[len][len];

  for (int i = 0; i < len;i++) {
    dp[i][i] = 1;
  }

  // è¦ä¿è¯j>=i, å¤´éƒ¨ä¸èƒ½è¶…è¿‡å°¾éƒ¨
  for (int i = 0; i < len;i++) {
    // jä»i+1çš„ä½ç½®å¼€å§‹, ï¼ˆi==jçš„ä½ç½®å·²ç»è¢«å¡«å……è¿‡äº†)é¿å…è¶Šç•Œ
    for (int j = i+1; j<len;j++) {
      if (ch[i] == ch[j]) {
        dp[i][j] = dp[i+1][j-1] + 2;
      } else {
        dp[i][j] = Math.max(dp[i+1][j], dp[i][j-1]);
      }
    }
  }
  return dp[0][len-1];
}
```

### è¿ç»­å­æ•°ç»„æœ€å¤§å’Œ

ç»™å®šæ•°ç»„`nums` ä¸º{1ï¼Œ-2ï¼Œ3ï¼Œ10ï¼Œ-4ï¼Œ7ï¼Œ2ï¼Œ-5}ï¼Œå’Œæœ€å¤§çš„å­æ•°ç»„ä¸º{3ï¼Œ10ï¼Œ-4ï¼Œ7ï¼Œ2}ï¼Œè¾“å‡ºè¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œæ˜¯8ã€‚

1ã€å®šä¹‰dpæ•°ç»„dp[0..n]

> dp[i]çš„å«ä¹‰æ˜¯ï¼šå¦‚æœnums[i]éè´Ÿï¼Œåˆ™ä»¥nums[i]ç»“å°¾çš„æœ€å¤§å’Œæ˜¯dp[i]ï¼›å¦åˆ™ä»¥nums[i - 1]ç»“å°¾çš„æœ€å¤§å’Œæ˜¯dp[i]
>
> æ¯”å¦‚dp[3] = 13ï¼Œä»¥nums[3]=10ç»“å°¾çš„æœ€å¤§å’Œæ˜¯13
>
> å› æ­¤è¦æƒ³æ±‚æœ€å¤§å’Œéœ€è¦éå†ä¸€édpæ•°ç»„

2ã€dpæ•°ç»„é•¿åº¦å’Œåˆå§‹å€¼

- é•¿åº¦ï¼šç»™å®šçš„æ•°ç»„é•¿åº¦
- åˆå§‹å€¼ï¼šæ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ å€¼

3ã€çŠ¶æ€è½¬ç§»æ–¹ç¨‹

dp[i] = max{dp[i-1] + nums[i], nums[i]}

> dp[i]çš„å–å€¼ä¸ºï¼šå½“å‰å…ƒç´ åŠ ä¸Šä¹‹å‰çš„å’Œï¼Œä¸ï¼Œå½“å‰å…ƒç´ ä¹‹é—´çš„æœ€å¤§å€¼

4ã€ä»£ç å®ç°

```java
public int findMax(int[] nums) {
    int[] dp = new int[nums.length];
    Arrays.fill(dp, nums[0]);
    
    for(int i = 1; i < nums.length; i++) {
        dp[i] = Math.max(dp[i-1] + nums[i], nums[i]);
    }
    
    // éå†dpæ•°ç»„è·å–æœ€å¤§å€¼
    int max = dp[0];
    for (int i = 0; i < nums.length - 1;i++) {
        if (dp[i] > max) max = dp[i];
    }
    return max;
}
```

ä¼˜åŒ–ï¼šå¯ä»¥å‹ç¼©dpæ•°ç»„çš„ç©ºé—´ï¼Œå› ä¸ºdpä¸­çš„å½“å‰içš„çŠ¶æ€åªä¸i-1çš„çŠ¶æ€ç›¸å…³

```java
public int findMaxSum2(int[] nums) {
  int maxSum = nums[0], sum = nums[0];
  for (int i = 1;i < nums.length;i++) {
    sum = Math.max(nums[i], sum + nums[i]);
    if (sum > maxSum) {
      maxSum = sum;
    }
  }
  return maxSum;
}
```

### æœ€çŸ­è·¯å¾„é—®é¢˜

åœ¨ä¸€ä¸ªäºŒç»´æ•°ç»„ä¸­ï¼Œ`arr[i][j]`ï¼Œä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’ï¼Œæ¯æ¬¡åªèƒ½å‘ä¸‹æˆ–è€…å‘å³ç§»åŠ¨ï¼Œæ±‚ç»å†çš„æœ€çŸ­è·¯å¾„ï¼Œè·¯å¾„å€¼ä¸ºäºŒç»´æ•°ç»„å…ƒç´ çš„å€¼ã€‚

1ã€å®šä¹‰dpæ•°ç»„ï¼š`dp[i][j]`ï¼Œè¡¨ç¤ºåœ¨iï¼Œjä½ç½®ä¸Šçš„è·¯å¾„æ•°

2ã€çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š`dp[i][j]=Math.min(dp[i-1][j] + arr[i][j], dp[i][j-1]+arr[i][j]`

3ã€åˆå§‹å€¼ï¼šæˆ‘ä»¬å¯ä»¥å…ˆå¡«å……dpæ•°ç»„çš„ç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—ï¼Œç„¶åç«™åœ¨`arr[1][1]`è¿™ä¸ªä½ç½®ä¸Šå¼€å§‹èµ°

```java
// åˆå§‹åŒ–dpæ•°ç»„çš„ç¬¬ä¸€è¡Œæ•°æ®
int sum = 0;
for (int j = 0; j < n; j++) {
  sum += matrix[0][j];
  dp[0][j] = sum;
}
sum = 0;
// åˆå§‹åŒ–dpæ•°ç»„çš„ç¬¬ä¸€åˆ—æ•°æ®
for (int i = 0; i < n; i++) {
  sum += matrix[i][0];
  dp[i][0] = sum;
}
```

4ã€å®Œæ•´ä»£ç 

```java
// çŠ¶æ€è½¬ç§»æ–¹ç¨‹:dp[i][j] = matrix[i][j] + Math.min(dp[i-1][j], dp[i][j-1])
public int find(int[][] matrix, int n) {
  int[][] dp = new int[n][n];

  // åˆå§‹åŒ–dpæ•°ç»„çš„ç¬¬ä¸€è¡Œæ•°æ®
  int sum = 0;
  for (int j = 0; j < n; j++) {
    sum += matrix[0][j];
    dp[0][j] = sum;
  }
  sum = 0;
  // åˆå§‹åŒ–dpæ•°ç»„çš„ç¬¬ä¸€åˆ—æ•°æ®
  for (int i = 0; i < n; i++) {
    sum += matrix[i][0];
    dp[i][0] = sum;
  }

  // ç«™åœ¨matrix[1][1]çš„ä½ç½®ä¸Šå¼€å§‹è¡Œèµ°, é¿å…i-1æˆ–è€…j-1è¶Šç•Œ
  for (int i = 1; i < n; i++) {
    for (int j = 1; j < n; j++) {
      dp[i][j] = matrix[i][j] + Math.min(dp[i - 1][j], dp[i][j - 1]);
    }
  }
  return dp[n - 1][n - 1];
}
```

ä»`[0][0]åˆ°[m][n]`æœ‰å¤šå°‘ç§è·¯å¾„ï¼š

```java
dp[0][i] = 1;dp[i][0] = 1;
// ä»[1][1]è¿™ä¸ªä½ç½®å¼€å§‹èµ°ï¼Œä¸¤å±‚forå¾ªç¯
dp[i][j] = dp[i-1][j] + dp[i][j-1];
```

### ä¸‰è§’å½¢æœ€çŸ­è·¯å¾„

åœ¨ä¸‰è§’å½¢ä¸Šè¡Œèµ°çš„è·¯å¾„ï¼ŒçŠ¶æ€è½¬ç§»ä¸ºï¼š`dp[i][j] = Math.min(dp[i-1][j-1],dp[i-1][j]) + nums[i][j];`

å‰©ä¸‹çš„ä¸ºè¾¹ç•Œé—®é¢˜å¤„ç†ã€‚

### èƒŒåŒ…é—®é¢˜

ç»™ä½ ä¸€ä¸ªå¯è£…è½½é‡é‡ä¸º `W` çš„èƒŒåŒ…å’Œ `N` ä¸ªç‰©å“ï¼Œæ¯ä¸ªç‰©å“æœ‰é‡é‡å’Œä»·å€¼ä¸¤ä¸ªå±æ€§ã€‚å…¶ä¸­ç¬¬ `i` ä¸ªç‰©å“çš„é‡é‡ä¸º `wt[i]`ï¼Œä»·å€¼ä¸º `val[i]`ï¼Œç°åœ¨è®©ä½ ç”¨è¿™ä¸ªèƒŒåŒ…è£…ç‰©å“ï¼Œæœ€å¤šèƒ½è£…çš„ä»·å€¼æ˜¯å¤šå°‘ï¼Ÿ

1ã€å®šä¹‰dpæ•°ç»„ï¼Œ`dp[i][j]`ï¼Œè¡¨ç¤ºåœ¨èƒŒåŒ…é‡é‡ä¸ºjï¼ˆjå³èƒŒåŒ…çš„æœ€å¤§å®¹é‡ï¼‰ï¼Œè£…ç¬¬iä¸ªç‰©å“æ—¶ï¼ŒèƒŒåŒ…é‡Œç‰©å“çš„ä»·å€¼

2ã€åˆå§‹å€¼å’Œé•¿åº¦

- åˆå§‹å€¼ï¼š`dp[0][0]=0`ï¼Œæ²¡æœ‰è£…ç‰©å“æ—¶ä»·å€¼ä¸º0
- é•¿åº¦ï¼š`dp[N][W]`ï¼ŒèƒŒåŒ…å®¹é‡æ»¡äº†æˆ–è€…æ‰€æœ‰çš„ç‰©å“éƒ½è£…å…¥

3ã€çŠ¶æ€è½¬ç§»æ–¹ç¨‹

```java
ç¬¬iä¸ªç‰©å“è£…å…¥:
dp[i][j] = dp[i-1][j - wt[i-1]] + val[i-1];// å› ä¸ºç¬¬iä¸ªç‰©å“ï¼Œå¯¹åº”çš„ä»·å€¼æ˜¯val[i-1],æ•°ç»„ä¸‹æ ‡ä»0å¼€å§‹
ç¬¬iä¸ªç‰©å“ä¸è£…å…¥ï¼š
dp[i][j] = dp[i-1][j];// ç‰©å“ä¸è£…ï¼Œé‚£ä¹ˆä»·å€¼è¿˜æ˜¯ä¹‹å‰çš„ä»·å€¼
çŠ¶æ€è½¬ç§»æ–¹ç¨‹
dp[i][j] = dp[i-1][] + val[i], dp[i]
```

> ```java
> // è¡¨ç¤ºåœ¨è£…ç¬¬iä¸ªç‰©å“ä¹‹å‰ï¼ŒèƒŒåŒ…é‡Œçš„ä»·å€¼
> dp[i-1][j - wt[i-1]];
> ```
>
> 

4ã€å®Œæ•´ä»£ç å®ç°

```java
// èƒŒåŒ…é‡é‡ä¸ºW, ç‰©å“ä¸ªæ•°ä¸ºN
public int putPackage(int[] wt, int W, int[] val, int N) {
  int[][] dp = new int[N+1][W+1];
  for (int i = 1; i <= N; i++) {// è¦è£…å…¥çš„ç¬¬iä¸ªç‰©å“
    for (int j = 1; j <= W; j++) {// ç¬¬iä¸ªç‰©å“çš„é‡é‡ä¸ºj
      if (j - wt[i-1] < 0) {// å½“å‰èƒŒåŒ…å·²ç»è£…ä¸ä¸‹äº†
        dp[i][j] = dp[i-1][j];
      } else {
        dp[i][j] = Math.max(dp[i-1][j-wt[i-1]] + val[i-1],
                            dp[i-1][j]);
      }
    }
  }
  // Nä¸ªç‰©å“å…¨éƒ¨è£…å…¥å¹¶ä¸”å¾—åˆ°èƒŒåŒ…é‡é‡
  return dp[N][W];
}
```

> èƒŒåŒ…åŸºç¡€é—®é¢˜ï¼ŒèƒŒåŒ…èƒ½æ‰¿å—çš„æœ€å¤§é‡é‡ä¸ºWï¼Œç°åœ¨æœ‰Nä¸ªç‰©å“ä¸”ä¸å¯åˆ†å‰²ã€‚ç°åœ¨è¦é€‰æ‹©å‡ ä¸ªç‰©å“è£…å…¥èƒŒåŒ…ï¼Œåœ¨ä¸è¶…è¿‡èƒŒåŒ…æ€»é‡é‡çš„å‰æä¸‹ï¼Œå¦‚ä½•è®©èƒŒåŒ…çš„æ€»é‡é‡æœ€å¤§ã€‚
>
> å®šä¹‰dpæ•°ç»„ï¼š
>
> `dp[i][0]`è¡¨ç¤ºç¬¬iä¸ªç‰©å“ä¸è£…å…¥èƒŒåŒ…çš„æ­¤æ—¶èƒŒåŒ…é‡Œçš„é‡é‡
>
> `dp[i][1]`è¡¨ç¤ºç¬¬iä¸ªç‰©å“è£…å…¥èƒŒåŒ…çš„æ­¤æ—¶èƒŒåŒ…é‡Œçš„é‡é‡
>
> çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š
>
> ```java
> dp[i][0] = dp[i-1] 
> ```
>
> 

### å­é›†èƒŒåŒ…é—®é¢˜

åˆ†å‰²ç­‰å’Œå­é›†ï¼Œåˆ¤æ–­ä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„(å’Œä¸ºsum)ï¼Œèƒ½å¦æŠŠè¿™ä¸ªæ•°ç»„åˆ†å‰²æˆä¸¤ä¸ªç­‰å’Œ(sum/2)çš„æ•°ç»„
è½¬æ¢ä¸ºèƒŒåŒ…é—®é¢˜, ä»æ•°ç»„ä¸­å–å‡ºæ•°æ®èƒ½å¦å¡«å……ä¸ºsum/2

1ã€dpæ•°ç»„å®šä¹‰, åŒèƒŒåŒ…é—®é¢˜ï¼Œ`dp[i][j]`è¡¨ç¤ºèƒŒåŒ…å®¹é‡ä¸ºjæ—¶ï¼ŒæŠŠç¬¬iä¸ªæ•°æ®æ”¾å…¥åˆ°èƒŒåŒ…æ—¶èƒ½å¦è£…æ»¡èƒŒåŒ…

2ã€åˆå§‹å€¼å’Œé•¿åº¦

- åˆå§‹å€¼ï¼š`dp[i][0]=true`ï¼Œè¡¨ç¤ºæ²¡æœ‰å‘èƒŒåŒ…æ”¾ç‰©å“æ—¶,å¯ä»¥è£…æ»¡èƒŒåŒ…
- é•¿åº¦ï¼šiä¸ºæ•°ç»„é•¿åº¦ï¼Œjæœ€å¤§ä¸ºsum/2

3ã€çŠ¶æ€è½¬ç§»

```java
// ç¬¬iä¸ªç‰©å“æ”¾å…¥èƒŒåŒ…
dp[i][j] = dp[i-1][j - nums[i-1]];
// ç¬¬iä¸ªç‰©å“ä¸æ”¾å…¥èƒŒåŒ…
dp[i][j] = dp[i-1][j];
// çŠ¶æ€è½¬ç§»æ–¹ç¨‹, åªæœ‰èƒ½ä½¿å¾—èƒŒåŒ…è£…æ»¡å³å¯
dp[i][j] = dp[i-1][j - nums[i-1]] || dp[i-1][j];
```

### å‡‘é›¶é’±é—®é¢˜

ç»™å®š`k`ç§é¢å€¼çš„ç¡¬å¸ï¼Œå†ç»™å®šé‡‘é¢amountï¼Œé—®æœ€å°‘éœ€è¦å‡ æšç¡¬å¸å¯ä»¥å‡‘å‡ºè¯¥é‡‘é¢amountã€‚

æ¯”å¦‚è¯´ `k = 3`ï¼Œé¢å€¼åˆ†åˆ«ä¸º 1ï¼Œ2ï¼Œ5ï¼Œæ€»é‡‘é¢ `amount = 11`ã€‚é‚£ä¹ˆæœ€å°‘éœ€è¦ 3 æšç¡¬å¸å‡‘å‡ºï¼Œå³ 11 = 5 + 5 + 1ã€‚

å‡½æ•°å®šä¹‰å¦‚ä¸‹ï¼š

```java
// coins ä¸­æ˜¯å¯é€‰ç¡¬å¸é¢å€¼ï¼Œamount æ˜¯ç›®æ ‡é‡‘é¢
int coinChange(int[] coins, int amount);
```

ä½¿ç”¨åŠ¨æ€è§„åˆ’è§£å†³è¯¥é—®é¢˜ï¼š

1ã€å®šä¹‰dpæ•°ç»„ï¼Œdp[0..n]ï¼Œ

> dp[i]è¡¨ç¤ºï¼šå½“ç›®æ ‡é‡‘é¢ä¸ºiæ—¶ï¼Œè‡³å°‘éœ€è¦dp[i]æšç¡¬å¸å‡‘å‡º

2ã€dpæ•°ç»„åˆå§‹å€¼å’Œé•¿åº¦

- é•¿åº¦ï¼šç›®æ ‡é‡‘é¢

- åˆå§‹å€¼ï¼šç›®æ ‡é‡‘é¢+1ï¼Œå³æ°¸è¿œå‡‘ä¸å‡ºæ¥çš„å€¼ï¼ˆä»£è¡¨æ˜¯ä¸€ä¸ªæ— é™å¤§çš„å€¼ä»¥ä¾¿çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸­å–æœ€å°å€¼ï¼‰

3ã€çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š

**dp[i] = min(dp[i], 1 + dp[i - coin]);**

å–é¢å€¼ä¸º`coin`çš„ç¡¬å¸æ—¶ï¼Œç¡¬å¸æ•°é‡åŠ ä¸€ï¼Œå†å–æ‰€éœ€ç¡¬å¸çš„æœ€å°æ•°ç›®ã€‚

4ã€å®Œæ•´ä»£ç 

```java
int coinChange(int[] coins, int amount) {
    int[] dp = new int[amount + 1];
    Arrays.fill(dp, amount + 1);
    for(int i = 0; i < dp.length; i++) {
        for(int coin : coins) {
            if(i-coin < 0) continue;
            dp[i] = Math.min(dp[i], dp[i-coin] + 1);
        }
    }

    if(dp[amount] == amount + 1) {
        // dp[amount]çš„å€¼è¿˜æ˜¯é»˜è®¤å€¼ï¼Œé‚£å°±æ˜¯è¯´ç»™å®šçš„ç¡¬å¸å‡‘ä¸å‡ºæ¥è¯¥é‡‘é¢
        return -1;
    } else {
       // å‡‘å‡ºamountæ—¶ï¼Œdp[amount]å³ä¸ºæ‰€æ±‚çš„æœ€å°ç¡¬å¸æ•°ç›®
        return dp[amount];
    }
}
```

### æœ€å°ç¼–è¾‘è·ç¦»

ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²s1ã€s2ï¼Œç®—å‡ºä¸¤ä¸ªå­—ç¬¦ä¸²çš„æœ€å°ç¼–è¾‘è·ç¦»ã€‚s2é€šè¿‡å¢åŠ ã€åˆ é™¤ã€ä¿®æ”¹èƒ½å˜æˆs1çš„æœ€å°æ­¥æ•°

å®šä¹‰ä¸€ä¸ªäºŒç»´çš„dpæ•°ç»„ï¼Œ`dp[i][j]`è¡¨ç¤ºï¼š`s1[0..i]ã€s2[0...j]`çš„æœ€å°ç¼–è¾‘è·ç¦»

åˆå§‹å€¼ï¼š

- è€ƒè™‘`dp[0][j]`ï¼Œä¹Ÿå°±æ˜¯è¯´å­—ç¬¦ä¸²s1çš„é•¿åº¦ä¸º0ï¼Œé‚£ä¹ˆs2å˜ä¸ºs1å°±éœ€è¦é€ä¸ªåˆ é™¤å­—ç¬¦ï¼Œéœ€è¦**j**æ­¥æ•°

- `dp[i][0]`ï¼Œä¹Ÿå°±æ˜¯è¯´å­—ç¬¦ä¸²s2çš„é•¿åº¦ä¸º0ï¼Œé‚£ä¹ˆs2å˜ä¸ºs1éœ€è¦æ ¹æ®s1é€ä¸ªæ·»åŠ å­—ç¬¦ï¼Œéœ€è¦**i**æ­¥æ•°

çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š

å¦‚æœ`s1[i] == s[j]`ï¼Œä¸¤ä¸ªå­—ç¬¦ç›¸ç­‰ï¼Œä¸éœ€è¦åšä»»ä½•æ“ä½œï¼Œç¼–è¾‘è·ç¦»ç›´æ¥ç»§æ‰¿ä¸Šä¸€æ¬¡çš„ï¼š

```java
dp[i][j] = dp[i-1][j-1];
```

å¦‚æœ`s1[i] != s[j]`ï¼Œä¸¤ä¸ªå­—ç¬¦ä¸ç›¸ç­‰ï¼Œåˆ™éœ€è¦è€ƒè™‘ä¸‰ç§æƒ…å†µï¼šå¢åŠ ã€åˆ é™¤ã€ä¿®æ”¹

```java
dp[i][j] = Math.min(// å–ä¸‰è€…æœ€å°å€¼
  dp[i][j-1] + 1,// æ’å…¥,  åœ¨s1[i] æ’å…¥ä¸€ä¸ªå’Œ s2[j] ä¸€æ ·çš„å­—ç¬¦ï¼Œs[j-1]çš„å­—ç¬¦è¿˜éœ€è¦ç»§ç»­å‚ä¸æ¯”è¾ƒ
	dp[i-1][j] + 1,// åˆ é™¤
	dp[i-1][j-1] + 1// æ›¿æ¢
  );
```

å®Œæ•´ä»£ç ï¼š

```java
public int getMinEditDistance(String s1, String s2) {
  char[] ch1 = s1.toCharArray();
  char[] ch2 = s2.toCharArray();

  int len1 = ch1.length; int len2 = ch2.length;
  int[][] dp = new int[len1+1][len2+1];

  for (int i = 0; i < len1;i++) {
    dp[i][0] = i;
  }

  for (int j = 0; j < len2; j++) {
    dp[0][j] = j;
  }

  for (int i = 1; i <= len1; i++) {
    for (int j = 1; j <= len2; j++) {
      if (ch1[i-1] == ch2[j-1]) {
        dp[i][j] = dp[i-1][j-1];
      } else {
        dp[i][j] = min(dp[i][j-1] + 1,dp[i-1][j] + 1,dp[i-1][j-1] + 1);
      }
    }
  }

  return dp[len1][len2];
}
```

### è‚¡ç¥¨ä¹°å–é—®é¢˜

æ•°ç»„nums[i]è¡¨ç¤ºå½“å¤©è‚¡ç¥¨çš„æ”¶ç›Šï¼Œç¡®å®šå“ªå¤©ä¹°å…¥ï¼Œå“ªå¤©å–å‡ºå¯ä»¥è·å¾—æœ€å¤§æ”¶å…¥ã€‚

å®šä¹‰dpæ•°ç»„ï¼š

`dp[i][0]`ï¼Œè¡¨ç¤ºç¬¬iå¤©æ‰‹é‡Œæ²¡æœ‰è‚¡ç¥¨çš„æœ€å¤§æ”¶ç›Šï¼›

`dp[i][1]`ï¼Œè¡¨ç¤ºç¬¬iå¤©æ‰‹é‡Œæœ‰è‚¡ç¥¨çš„æœ€å¤§æ”¶ç›Šã€‚

æƒ³è¦æ±‚å–çš„ç»“æœæ˜¯ï¼š`dp[N][0]`,ç¬¬Nå¤©æ‰‹é‡Œæ²¡æœ‰è‚¡ç¥¨çš„æœ€å¤§æ”¶ç›Šã€‚

åˆå§‹å€¼ï¼š

çŠ¶æ€è½¬ç§»æ–¹ç¨‹å†™å‡ºæ¥åï¼Œè€ƒè™‘è¶Šç•Œçš„æƒ…å†µï¼Œå³æ˜¯åˆå§‹å€¼

çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š

```java
// ç¬¬iå¤©æ‰‹é‡Œæ²¡æœ‰æŒæœ‰è‚¡ç¥¨çš„æœ€å¤§æ”¶ç›Š
dp[i][0] = Math.max(dp[i-1][0], // ç¬¬i-1å¤©å°±æ²¡æœ‰æŒæœ‰
                    dp[i-1][1] + nums[i]);// ç¬¬i-1å¤©æŒæœ‰äº†ï¼Œä½†æ˜¯ä»Šå¤©å–å‡ºäº†
// ç¬¬iå¤©æ‰‹é‡ŒæŒæœ‰è‚¡ç¥¨çš„æœ€å¤§æ”¶ç›Š
dp[i][1] = Math.max(dp[i-1][1], // ç¬¬i-1å¤©æŒæœ‰äº†è‚¡ç¥¨
                   dp[i-1][0] - nums[i]);// ç¬¬i-1å¤©æ²¡æœ‰æŒæœ‰ï¼Œä»Šå¤©æ‰ä¹°å…¥è‚¡ç¥¨
```

ä»£ç å®ç°ï¼š

```java
public int getMaxProfit(int[] nums) {
  int len = nums.length;
  int[][] dp = new dp[len][2];
  
  for(int i = 0;i < len;i++) {
    // é¿å…i-1è¶Šç•Œ
    if(i == 0) {
      dp[0][0] = 0;// æ‰‹é‡Œæ²¡è‚¡ç¥¨
      dp[0][1] = -nums[0];// ç›´æ¥ä¹°å…¥äº†è‚¡ç¥¨
      continue;
    }
    dp[i][0] = Math.max(dp[i-1][0], dp[i-1][1] + nums[i]);
    dp[i][1] = Math.max(dp[i-1][1], dp[i-1][0] - nums[i]]);
  }

  return dp[N][0];
}
```



### æ‰“å®¶åŠ«èˆé—®é¢˜

ç»™å®šæ•°ç»„nums[i...N]ï¼Œå…¶ä¸­`nums[i]`è¡¨ç¤ºç¬¬iä¸ªæˆ¿é—´çš„é‡‘é¢ä¸ºnums[i]ï¼Œå°å·å·å–ä¸œè¥¿ï¼Œä½†æ˜¯ä¸èƒ½å·å–ç›¸é‚»æˆ¿é—´çš„ä¸œè¥¿ï¼Œæ±‚å°å·å¯ä»¥å·å–çš„æœ€å¤§é‡‘é¢ã€‚

å®šä¹‰dpæ•°ç»„ï¼Œdp[i]è¡¨ç¤ºå·å–åˆ°ç¬¬iä¸ªæˆ¿é—´æ—¶å·²ç»å·å–çš„æœ€å¤§é‡‘é¢ï¼Œè¦æ±‚å–çš„ç»“æœå°±æ˜¯ï¼šdp[N]

çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š

```java
dp[i] = Math.max(dp[i-1],// ç¬¬iä¸ªæˆ¿é—´ä¸å·
                 dp[i-2] + nums[i]);// å·ç¬¬iä¸ªæˆ¿é—´, åªèƒ½ä»å‰å‰æˆ¿é—´çš„æ”¶ç›Šè·å¾—
```

å®Œæ•´ä»£ç ï¼š

```java
public void max(int[] nums) {
  int len = nums.length;
  int[] dp = new int[len];
  
  for(int i = 0; i < len;i++) {
    // å·ç¬¬ä¸€ä¸ªæˆ¿é—´
    if(i == 0) {
      dp[0] = nums[0];
    } else if (i == 1) {// å·ç¬¬äºŒä¸ªæˆ¿é—´, å–å†³äºç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªå“ªä¸ªæˆ¿é—´çš„é‡‘é¢å¤§
      dp[1] = Math.max(nums[0], nums[1]);
    } else {
      dp[i] = Math.max(dp[i-1], dp[i-2] + nums[i]);
    }
  }
  
  return dp[len-1];
}
```

### é«˜æ¥¼æ‰”é¸¡è›‹é—®é¢˜

Kä¸ªé¸¡è›‹ï¼ŒNå±‚æ¥¼ï¼Œæœ€åæƒ…å†µä¸‹çš„æœ€å°‘æ‰”é¸¡è›‹æ¬¡æ•°

```java
int res = 0;
// å½“æœ‰Kä¸ªé¸¡è›‹, Nå±‚æ¥¼æ—¶
public int dp(int K, int N) {
  
  if(K==1) return N;// åªæœ‰ä¸€ä¸ªé¸¡è›‹è¦å°è¯•Nå±‚æ¥¼
  if(N==0) return 0;// æ¥¼é«˜ä¸º0, ä¸éœ€è¦å°è¯•
  for(int i = 0; i < N; i++) {
    // ç¬¬iå±‚æ¥¼
    res = Math.min(res, Math.max(dp[K][N-i],// é¸¡è›‹æ²¡æœ‰ç¢, ä»iå±‚æ¥¼å‘ä¸Šå¯»æ‰¾
                                dp[K-1][i-1]) // é¸¡è›‹ç¢äº†ï¼Œä»iå±‚æ¥¼å‘ä¸‹å¯»æ‰¾
                  +1);// å°è¯•çš„æ¬¡æ•°åŠ ä¸€
  }
  return res;
}
```



é™„å½•

æ™ºåŠ›é¢˜ç›®ï¼šhttps://labuladong.gitbook.io/algo/gao-pin-mian-shi-xi-lie/yi-hang-dai-ma-jie-jue-de-zhi-li-ti

äºŒåˆ†æŸ¥æ‰¾è¿ç”¨ï¼š[ä¸¤ä¸ªæœ‰åºæ•°ç»„æŸ¥æ‰¾ä¸­ä½æ•°](https://mp.weixin.qq.com/s/FBlH7o-ssj_iMEPLcvsY2w)

[githubå¼€æºé¡¹ç›®-å›¾è§£ç®—æ³•](https://github.com/MisterBooo/LeetCodeAnimation)

LeetCodeç»ƒä¹ ï¼šhttps://leetcode-cn.com/leetbook/detail/top-interview-questions/

ç®—æ³•è®²è§£åšä¸»ï¼šhttps://labuladong.gitbook.io/algo/suan-fa-si-wei-xi-lie/hua-dong-chuang-kou-ji-qiao-jin-jie